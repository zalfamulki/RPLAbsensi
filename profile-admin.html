<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Admin - UnivSync Attend</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="profile-header">
            <button class="back-btn" onclick="history.back()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <h1>Profil Admin</h1>
        </header>

        <!-- Main Content -->
        <main class="profile-main">
            <!-- Profile Photo Section -->
            <div class="profile-photo-section">
                <div class="profile-photo">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="#9CA3AF">
                        <circle cx="40" cy="25" r="15"/>
                        <path d="M15 65c0-13.807 11.193-25 25-25s25 11.193 25 25"/>
                    </svg>
                </div>
                <button class="photo-upload-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                        <circle cx="12" cy="13" r="4"></circle>
                    </svg>
                </button>
            </div>

            <!-- Profile Form -->
            <form class="profile-form" id="profileForm">
                <h3 class="form-section-title">Informasi Pribadi</h3>
                
                <div class="form-group">
                    <label for="nama">Nama Lengkap</label>
                    <input type="text" id="nama" name="nama" value="Admin System" readonly>
                </div>

                <div class="form-group">
                    <label for="nip">NIP</label>
                    <input type="text" id="nip" name="nip" value="199001012015041001" readonly>
                </div>

                <div class="form-group">
                    <label for="jabatan">Jabatan</label>
                    <input type="text" id="jabatan" name="jabatan" value="Administrator Sistem" readonly>
                </div>

                <h3 class="form-section-title">Kontak</h3>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" value="admin@unsil.ac.id" readonly>
                </div>

                <div class="form-group">
                    <label for="phone">No. Telepon</label>
                    <input type="tel" id="phone" name="phone" value="081234567890" readonly>
                </div>

                <h3 class="form-section-title">Keamanan</h3>

                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" value="admin" readonly>
                </div>

                <button type="button" class="btn btn-primary" onclick="location.href='ubah-password.html'">
                    Ubah Password
                </button>

                <button type="button" class="btn btn-outline" id="logoutBtn">Logout</button>
            </form>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="dashboard-admin.html" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                </svg>
                <span>Home</span>
            </a>
            <a href="kelola-data.html" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                <span>Kelola</span>
            </a>
            <a href="laporan.html" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                <span>Laporan</span>
            </a>
            <a href="profil-admin.html" class="nav-item active">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span>Profil</span>
            </a>
        </nav>
    </div>

    <script src="script.js"></script>
    <script>
        // Load profile data
        window.addEventListener('DOMContentLoaded', function() {
            loadProfileData();
        });

        function loadProfileData() {
            fetch('api/get-profile-admin.php')
                .then(response => response.json())
                .then(data => {
                    if(data.success) {
                        document.getElementById('nama').value = data.nama;
                        document.getElementById('nip').value = data.nip;
                        document.getElementById('jabatan').value = data.jabatan;
                        document.getElementById('email').value = data.email;
                        document.getElementById('phone').value = data.phone;
                        document.getElementById('username').value = data.username;
                    }
                })
                .catch(error => {
                    console.error('Error loading profile:', error);
                });
        }

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
            if(confirm('Apakah Anda yakin ingin logout?')) {
                window.location.href = 'api/logout.php';
            }
        });
    </script>
</body>
</html>